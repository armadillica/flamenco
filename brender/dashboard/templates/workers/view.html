{% extends "layout.html" %}
{% block footer_scripts %}
<script type="text/javascript">
    $("#worker_refresh").click(function() {
        console.log('Button Refresh worker');
        location.reload();
    });
</script>
{% endblock %}
{% block body %}
    <div class="row">
            <div class="span10">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            {{worker['worker_id']}}
                            <a id="worker_refresh" href="#" class="glyphicon glyphicon-refresh pull-right"></a>
                        </h3>

                    </div>
                    <div class="panel-body">
                            <p>status: <b class="{{ worker['status']}}">{{ worker['status'] | default('N/A')}}</b></p>
                            <p>cores: {{ worker['update_less_frequent']['worker_num_cpus'] | default('N/A')}}</p>
                            <p>architecture: {{worker['update_less_frequent']['worker_architecture'] | default('N/A')}}</p>
                            <p>cpu percent: {{worker['update_frequent']['worker_cpu_percent'] | default('N/A')}} %</p>
                            <p>mem percent: {{worker['update_less_frequent']['worker_mem_percent'] | default('N/A')}} %</p>
                            <p>disk percent: {{worker['update_less_frequent']['worker_disk_percent'] | default('N/A')}} %</p>
                            <!-- <p>blender cpu usage: {{worker['update_frequent']['worker_blender_cpu_usage'] | default('N/A')}} %</p> -->
                            <!-- <p>blender mem usage: {{worker['update_less_frequent']['worker_blender_mem_usage'] | default('N/A')}} %</p> -->
                    </div>
                    <div class="panel-footer">
                        <p class="pull-right">
                            <span>load-average
                                {{worker['update_frequent']['load_average']['1min'] | default('N/A')}} {{worker['update_frequent']['load_average']['5min'] | default('N/A')}}
                                {{worker['update_frequent']['load_average']['15min'] | default('N/A')}}
                            </span>
                        </p>
                        <br class='clearfix'/>
                    </div>
                </div>
            </div>
        </div>
{% endblock %}
